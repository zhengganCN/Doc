# 中间件介绍

1. 中间件是一种装配到应用管道以处理请求和响应的软件。每个组件：
    - 选择是否将请求传递到管道中的下一个组件。
    - 可在管道中的下一个组件前后执行工作。

2. 请求委托用于生成请求管道。 请求委托处理每个 HTTP 请求。

3. 使用 RunMap 和 Use 扩展方法来配置请求委托。 可将一个单独的请求委托并行指定为匿名方法（称为并行中间件），或在可重用的类中对其进行定义。 这些可重用的类和并行匿名方法即为中间件 ，也叫中间件组件 。 请求管道中的每个中间件组件负责调用管道中的下一个组件，或使管道短路。 当中间件短路时，它被称为“终端中间件” ，因为它阻止中间件进一步处理请求。

4. ASP.NET Core 请求管道包含一系列请求委托，依次调用。 下图演示了这一概念。
    ![中间件调用](../Images/request-delegate-pipeline.png)
