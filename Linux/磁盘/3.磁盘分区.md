# 磁盘分区

## 一、使用`fdisk`命令分区

说明：`fdisk`只支持2TB及以下的磁盘分区

1. 输入分区命令：`fdisk /dev/sda`
   - 说明：`/dev/sda`为要分区的磁盘
2. 创建分区，输入：`n`；选择默认的主分区，按提示输入分区号
3. 设置扇区大小（使用默认设置即可）
4. 设置分区大小（+扇区的倍数或+容量）；按回车则直接使用磁盘的容量（最大2TB）
5. 查看设置好的分区，输入：`p`
6. 如果要删除分区，输入：`d`，并选择要删除的分区号
7. 保存分区，输入：w
8. 创建文件系统（格式化磁盘），输入：mkfs.xfs /dev/sda
   - 说明：
     1. `/dev/sda`为要创建指定类型的磁盘分区
     2. `mkfs.xxx` xxx为文件系统类型，可以为xfs、ext4等等类型（推荐使用xfs或ext4）

## 二、使用`parted`命令分区

说明：`parted`支持2TB及以上的磁盘分区

1. 输入分区命令：`parted /dev/sda`
   - 说明：`/dev/sda`为要分区的磁盘
2. 创建分区表
   1. 输入命令：`mklabel`
   2. 创建分区表(我们要正确分区大于2TB的磁盘，应该使用gpt方式的分区表，输入gpt后回车)，输入命令：gpt
3. 创建分区
   1. 输入命令：mkpart
   2. 输入分区名：xxx（随意）
   3. 选择文件系统，推荐使用xfs或ext4
   4. 为分区指定大小
      - 可以用百分比表示，比如Start? 0% , End? 50%，也可以使用数值如Start? 0 , End? 500GB
4. 查看设置好的分区，输入：`print`
5. 如果要删除分区，输入：`rm 1`，1表示要删除的分区号，既第四步打印出的分区号
6. 退出，输入命令：`quit`
7. 创建文件系统（格式化磁盘），输入：mkfs.xfs /dev/sda1
   - 说明：
     1. `/dev/sda`为要创建指定类型的磁盘分区
     2. `mkfs.xxx` xxx为文件系统类型，可以为xfs、ext4等等类型（推荐使用xfs或ext4）
